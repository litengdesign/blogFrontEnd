<nz-breadcrumb [nzAutoGenerate]="true">
  <nz-breadcrumb-item>您所在的位置</nz-breadcrumb-item>
</nz-breadcrumb>
<div class="content">
  <div nz-row nzGutter="8" class="text-right">
    <app-search (add)="showModal()" (search)="searchData($event)"></app-search>
  </div>
  <nz-table #basicTable [nzData]="displayData" nzBordered nzSize="middle">
    <thead>
      <tr>
        <th>导航名称</th>
        <th>导航链接</th>
        <th>排序</th>
        <th>是否新窗口打开</th>
        <th>操作</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of basicTable.data">
        <td>{{ item.name }}</td>
        <td>{{ item.link }}</td>
        <td>{{ item.serial }}</td>
        <td>{{ item.target }}</td>
        <td>
          <app-premission (update)="updateRow(item)" (delete)="deleteRow(item)"></app-premission>
        </td>
      </tr>
    </tbody>
  </nz-table>
</div>
<!-- 编辑框 -->
<nz-modal [nzWidth]="700" [(nzVisible)]="isVisible" nzTitle="{{modalTitle}}" nzOkText="确定" nzCancelText="取消"
  (nzOnOk)="handleOk()" (nzOnCancel)="handleCancel()" [nzFooter]="modalFooter">
  <form nz-form [formGroup]="validateForm">
    <nz-form-item>
      <nz-form-label [nzSpan]="4" nzRequired>导航名称</nz-form-label>
      <nz-form-control [nzSpan]="8">
        <input nz-input formControlName="name" placeholder="请输入" type="text">
        <nz-form-explain *ngIf="validateForm.get('name').dirty">
          <ng-container *ngIf="validateForm.get('name').hasError('required')">
            导航名称不能为空！
          </ng-container>
        </nz-form-explain>
      </nz-form-control>
      <nz-form-label [nzSpan]="4" nzRequired>链接</nz-form-label>
      <nz-form-control [nzSpan]="8">
        <input nz-input formControlName="link" placeholder="请输入" type="text">
        <nz-form-explain *ngIf="validateForm.get('link').dirty">
          <ng-container *ngIf="validateForm.get('link').hasError('required')">
            导航链接不能为空！
          </ng-container>
        </nz-form-explain>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSpan]="4">排序</nz-form-label>
      <nz-form-control [nzSpan]="8">
        <input nz-input formControlName="serial" placeholder="请输入" type="number">
      </nz-form-control>
      <nz-form-label [nzSpan]="4">新窗口打开</nz-form-label>
      <nz-form-control [nzSpan]="8">
        <nz-switch formControlName="target" nzCheckedChildren="开" nzUnCheckedChildren="关"></nz-switch>
      </nz-form-control>
    </nz-form-item>
  </form>
  <ng-template #modalFooter>
    <button nz-button nzType="default" (click)="resetForm()">重置</button>
    <button nz-button nzType="primary" [disabled]="!validateForm.valid"
      (click)="submitForm(validateForm.value)">保存</button>
  </ng-template>
</nz-modal>